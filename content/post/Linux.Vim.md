+++
date = "2017-08-08T22:07:46+08:00"
title = "Linux.Vim"
draft = false
tags = ["整理","Linux"]
share = true
+++


[TOC]

# [简明 VIM 练级攻略](http://coolshell.cn/articles/5426.html)

## 阶段
- 存活
- 感觉良好
- 觉得更好，更强，更快
- 使用VIM的超能力

## 存活
- `i`
    - Insert 模式
- `ESC`
    - 返回 Normal 模式
- `x`
    - 删除当前光标所有的一个字符
- `dd`
    - `剪切`当前`行`
- `p`
    - 粘贴
- `hjkl`
    - 对应`左下右上`
- `:q<enter>`
    - 不保存退出

## 感觉良好
### 插入
- `i`
    - 在`光标前`插入
- `a`
    - 在`光标后`插入
- `O`
    - 在当前`行前`插入新行
- `o`
    - 在当前`行后`插入新行
- `cw`
    - 替换从`光标所在位置`后到一个`单词结尾`的字符

### 移动
- `0`
    - 行头
- `$`
    - 行尾
- `^`
    - 到本行`第一个` `非blank` 字符位置
    - `blank`= 空格| tab| 换行| 回车
- `g_`
    - 到本行`最后一个`非blank字符位置
- `/pattern`
    - 搜索 `pattern` 字符串

### 拷贝/ 粘贴
- `p`
    - 粘贴
- `yy`
    - 复制

### Undo/ Redo
- `u`
    - 撤消

### 文件操作
- `:e`
    - 打开文件
- `:w`
    - 保存
- `：saveas <path>`
    - 将文件另存至 <path>
- `:q!`
    - 强制退出不保存
- `:bn | :bp`
    - 多文件切换

## 更好，更强，更快
### 指令重复
- `.`
    - `重复`上次命令
    - 示例
        - `2dd`
            - 删除2行
        - `3.`
            - 删除6行
- `\d <command>`
    - 重复执行 <command> `\d`次
    - 示例
        - `100iinput [ESC]`
            - 重复 100次 输入 `input `

### 光标移动
- `\dgG`
    - 跳到第`\d`行
- `gg`
    - 跳到`首行`
- `G`
    - 跳到`末行`
- `e`
    - 到下一单词的`开头`
- `w`
    - 到下一单词的`结尾`
- `%`
    - 匹配的括号（`(`, `{`, `[`）移动
    - 光标移动至括号上后操作
- `* #`
    - 匹配当前所在`单词`，并`向下`或`向上`匹配
- `v`
    - 可视化选择
    - 示例
        - 按 `v` 后移动光标，可视文本被选择情况
        - 后输入`d`、`y`、`gU`、`gu`进行删除、复制或变大小写

## vim 超能力
### 光标移动
- `fa`
    - 到`下一个` a 的`字符处`
- `t,`
    - 到下一个`字符前`
    - 示例
        - `dt,`
            - 删除所有，直到遇到 `,`
- `F|T`
    - 反向搜索


### 区域选择
- 在 `visual` 模式下使用
- `<action>[a|i]<object>`
    - 属性
        - `<action>` = `[d|y|v]`
        - `<object>` = `[w|W|s|p|\)|\}|\]]`
    - 示例
        - (map (+) ("foo")) 且光标在第一个 `o` 处
        - `vi"`
            - foo
        - `va"`
            - "foo"
        - `vi)`
            - "foo"
        - `va)`
            - ("foo")
        - `v2i)`
            - map (+) ("foo")
        - `v2a)`
            - (map (+) ("foo"))   

### 块操作
- 比如给代码添加注释
    - `0 <C-v> <C-d> I-- [ESC]`
        - 移动至行首
        - `<C-v>`开始进行块操作
        - `<C-d>`移动选择
        - `I-- [ESC]` 插入 `--`
    - 类型 Sublime 的多行操作

### 自动补齐
- `<C-p>`

### 可视化选择
- `J`
    - 把所有的行连成`一行`
- `[<| >]`
    - [左| 右]缩进
- `=`
    - 自动缩进
