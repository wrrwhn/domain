<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>好久不见</title>
        <meta name="author">
        <meta name="description" content="好久不见">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Hugo 0.30.2" />
        <link href="http://domain.yqjdcyy.com/post/index.xml" rel="alternate" type="application/rss+xml" title="好久不见" />
        <link href="http://domain.yqjdcyy.com/post/index.xml" rel="feed" type="application/rss+xml" title="好久不见" />
        <link href='//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="http://domain.yqjdcyy.com/css/styles.css">
        <link rel="icon" href="http://domain.yqjdcyy.com/favicon.ico">
        <link rel="apple-touch-icon" href="http://domain.yqjdcyy.com/apple-touch-icon.png" />
        <link rel="stylesheet" href="http://domain.yqjdcyy.com/css/highlightjs/monokai.css">
        <script src="http://domain.yqjdcyy.com/js/vendor/modernizr-2.8.0.min.js"></script>
        
        <style>
        .site-header h2 .logo {
        background: url(http://domain.yqjdcyy.com/img/desk.jpg) no-repeat 0 0;
        }
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
          .site-header h2 .logo {
            background-image: url(http://domain.yqjdcyy.com/img/desk.jpg);
        }}
       .site-header {
         background: #2a373d url(http://domain.yqjdcyy.com/img/desk.jpg) no-repeat center center;
         z-index: -1;
        }
        </style>
    </head>
    <body>
        
        <header class="site-header">
          <div class="transparent-layer">
              <h2></h2>
          </div>
        </header>


<div class="container clearfix">
    <main role="main" class="content">
        <article class="post">
            <a class="btn home" href="http://domain.yqjdcyy.com/" title="">&laquo; </a>
            
<h1><a href="http://domain.yqjdcyy.com/post/linux.grep/" title="Linux.Grep">Linux.Grep</a></h1>

<footer class="post-info"> <span class="post-meta"><time datetime="2017.09.20">2017.09.20</time>

    &middot; 
        
        <a href="http://domain.yqjdcyy.com/tags/%E6%95%B4%E7%90%86">整理</a>, 
        
        <a href="http://domain.yqjdcyy.com/tags/linux">linux</a>
        
    

</span>
</footer>

            

<p>[TOC]</p>

<h1 id="grep">Grep</h1>

<h2 id="参考">参考</h2>

<ul>
<li><a href="http://man.linuxde.net/grep">grep命令</a></li>
<li><a href="http://www.cnblogs.com/peida/archive/2012/12/17/2821195.html">每天一个linux命令（39）：grep 命令</a></li>
<li><a href="http://www.cnblogs.com/end/archive/2012/02/21/2360965.html">linux grep命令</a></li>
<li><a href="http://otzm88f21.bkt.clouddn.com/b9a82f1e-a3ba-4f54-b6e4-7aa00de43296.txt">man-grep</a></li>
</ul>

<h2 id="格式">格式</h2>

<ul>
<li><code>grep [OPTIONS] PATTERN [FILE...]</code></li>
<li><code>grep [OPTIONS] [-e PATTERN | -f FILE] [FILE...]</code></li>
</ul>

<h2 id="参数">参数</h2>

<h3 id="匹配器选择">匹配器选择</h3>

<ul>
<li><code>-E, --extended-regexp</code>

<ul>
<li>扩展正则表达式</li>
<li>由 POSIX 指定</li>
</ul></li>
<li><code>-F, --fixed-strings, --fixed-regexp</code>

<ul>
<li>模式解析为固定字符串列表，以换行符分隔，任一匹配</li>
<li><em>弃用别名</em></li>
</ul></li>
<li><code>-G, --basic-regexp</code>

<ul>
<li>解析为基本正则表达式</li>
<li>默认配置</li>
</ul></li>
<li><code>-P, --perl-regexp</code>

<ul>
<li>模式解析为 Perl 正则表达式</li>
<li>开发阶段，会提示未实现的特性</li>
</ul></li>
</ul>

<h3 id="匹配控制">匹配控制</h3>

<ul>
<li><code>-e PATTERN, --regexp=PATTERN</code>

<ul>
<li>文本正则</li>
</ul></li>
<li><code>-f FILE, --file=FILE</code>

<ul>
<li>正则条件文本文件，以换行符分隔</li>
<li>空文件则匹配不到任何东西</li>
</ul></li>
<li><code>-i, --ignore-case</code>

<ul>
<li>忽略正则表达式和内容的字符大小写匹配限制</li>
</ul></li>
<li><code>-v, --invert-match</code>

<ul>
<li>反向匹配</li>
<li>输出正则匹配到的元素之外的信息</li>
</ul></li>
<li><code>-w, --word-regexp</code>

<ul>
<li>全字匹配</li>
</ul></li>
<li><code>-x, --line-regexp</code>

<ul>
<li>全行匹配</li>
</ul></li>
<li><code>-y</code>

<ul>
<li><code>-i</code> 的弃用同义词</li>
</ul></li>
</ul>

<h3 id="控制输出">控制输出</h3>

<ul>
<li><code>-c, --count</code>

<ul>
<li>输出匹配的各文件中的行数</li>
</ul></li>
<li><code>--color[=WHEN], --colour[=WHEN]</code>

<ul>
<li>在终端以颜色区分匹配字符串，以转义字符显示包围的相关分隔符等信息</li>
<li>默认根据系统参数 <code>GREP_COLORS</code> 显示，但目前已弃用，优先级降低</li>
</ul></li>
<li><code>-L, --files-without-match</code>

<ul>
<li>打印出每个输入文件名称</li>
<li>终止于第一条匹配数据</li>
</ul></li>
<li><code>-l, --files-with-matches</code>

<ul>
<li>同 <code>-L</code></li>
<li>由 POSIX 指定</li>
</ul></li>
<li><code>-m NUM, --max-count=NUM</code>

<ul>
<li>最多输出 <code>NUM</code> 个匹配项</li>
</ul></li>
<li><code>-o, --only-matching</code>

<ul>
<li>仅打印匹配行，以换行符分隔</li>
</ul></li>
<li><code>-q, --quiet, --silent</code>

<ul>
<li>不打印标准输出</li>
<li>成功时以 0 状态退出，失败时以 非0 值退出</li>
</ul></li>
<li><code>-s, --no-messages</code>

<ul>
<li>不打印异常消息</li>
</ul></li>
</ul>

<h3 id="输出前缀控制">输出前缀控制</h3>

<ul>
<li><code>-b, --byte-offset</code>

<ul>
<li>每行输出，0字节偏移</li>
</ul></li>
<li><code>-H, --with-filename</code>

<ul>
<li>打印每个匹配的文件名</li>
</ul></li>
<li><code>-h, --no-filename</code>

<ul>
<li>输出时忽略文件前缀</li>
<li>默认</li>
</ul></li>
<li><code>--label=LABEL</code>

<ul>
<li>以实际标准输入作为 <LABEL> 文件的输入</li>
<li><code>gzip -cd foo.gz | grep --label=foo -H</code></li>
</ul></li>
<li><code>-n, --line-number</code>

<ul>
<li>显示行号</li>
</ul></li>
<li><code>-T, --initial-tab</code>

<ul>
<li>缩进对齐</li>
</ul></li>
<li><code>-u, --unix-byte-offsets</code>

<ul>
<li>以 Unix 风格的字节偏移</li>
</ul></li>
<li><code>-Z, --null</code>

<ul>
<li>以0字节分隔文件名和匹配项</li>
</ul></li>
</ul>

<h3 id="上下文控制">上下文控制</h3>

<ul>
<li><code>-A NUM, --after-context=NUM</code>

<ul>
<li>显示匹配行后指定数量行数额外信息</li>
</ul></li>
<li><code>-B NUM, --before-context=NUM</code>

<ul>
<li>显示匹配行前指定数量行数额外信息</li>
</ul></li>
<li><code>-C NUM, -NUM, --context=NUM</code>

<ul>
<li>输出匹配行前后指定数量行额外信息，各匹配行之间以空行间隔</li>
</ul></li>
<li><code>--group-separator=SEP</code>

<ul>
<li>使用指定符号作为组分隔符</li>
<li>默认为 <code>--</code></li>
</ul></li>
<li><code>-no-group-separator</code>

<ul>
<li>使用空字符串作为组分隔符</li>
</ul></li>
</ul>

<h3 id="文件目录选项">文件目录选项</h3>

<ul>
<li><code>-a, --text</code>

<ul>
<li>执行文本类型的二进制文件</li>
<li>等价于 <code>--binary-files=text</code></li>
</ul></li>
<li><code>--binary-files=TYPE</code>

<ul>
<li>指定文件类型匹配</li>
<li>默认为 <code>binary</code></li>
</ul></li>
<li><code>-D ACTION, --devices=ACTION</code>

<ul>
<li>当输入为文件为设备、FIFO 或流时，使用指定动作<ACTION>处理</li>
<li>默认为 <code>read</code>，可选项为 <code>skip</code></li>
</ul></li>
<li><code>-d ACTION, --directories=ACTION</code>

<ul>
<li>当输入文件为文档时，使用指定<ACTION>处理</li>
<li>默认为 <code>read</code>，可选项为 <code>recurse</code>

<ul>
<li><code>recurse</code>

<ul>
<li>递归读取每个目录，其中符号连接符仅在命令行中指定时查询</li>
<li>等价于 <code>-r</code></li>
</ul></li>
</ul></li>
</ul></li>
<li><code>--exclude=GLOB</code>

<ul>
<li>忽略文件名匹配<GLOB>的文件</li>
<li>可使用 <code>* ? .</code> 作为通配符</li>
</ul></li>
<li><code>--exclude-from=FILE</code>

<ul>
<li>忽略文件名匹配<FILE>中任一规则的文件</li>
</ul></li>
<li><code>--exclude-dir=DIR</code>

<ul>
<li>递归搜索中，排除匹配正则的目录</li>
</ul></li>
<li><code>-I</code>

<ul>
<li>处理二进制文件，如同未包含匹配数据</li>
<li>等价于 <code>--binary-files=without-match</code></li>
</ul></li>
<li><code>--include=GLOB</code>

<ul>
<li>仅搜索文件名匹配<GLOB>的文件</li>
</ul></li>
<li><code>-r, --recursive</code>

<ul>
<li>递归搜索所有目录</li>
<li>符号链接仅于命令行中指定时生效</li>
<li><code>-d</code></li>
</ul></li>
</ul>

<h3 id="其它选项">其它选项</h3>

<ul>
<li><code>--line-buffered</code>

<ul>
<li>在输出使用行缓冲，会导致性能损失</li>
</ul></li>
<li><code>-U, --binary</code>

<ul>
<li>将文件当成二进制文件</li>
<li>MS-DOS 和 MS-WINDOWS 下，会自动抓取前 32KB 内容以判断文件类型</li>
</ul></li>
<li><code>-z, --null-data</code>

<ul>
<li>将输入视为一组行，每行以0字节代替换行符作为分隔符</li>
</ul></li>
</ul>

<h2 id="示例">示例</h2>

<ul>
<li><code>grep &quot;match_pattern&quot; file_name --color=auto</code>

<ul>
<li>标记匹配颜色</li>
</ul></li>
<li><code>echo this is a test line. | egrep -o &quot;[a-z]+\.&quot;</code>

<ul>
<li>仅输出匹配内容</li>
</ul></li>
<li><code>grep &quot;text&quot; . -r -n</code>

<ul>
<li>递归当前目录进行搜索</li>
</ul></li>
<li><code>echo this is a text line | grep -e &quot;is&quot; -e &quot;line&quot; -o</code>

<ul>
<li>多匹配条件</li>
</ul></li>
<li><code>grep &quot;main()&quot; . -r --include *.{php,html}</code>

<ul>
<li>递归并指定 .php 和 .html 文件进行搜索</li>
</ul></li>
<li><code>grep -q &quot;test&quot; filename</code>

<ul>
<li>静默执行，仅返回执行状态

<ul>
<li>0 为成功</li>
<li>其它为失败</li>
</ul></li>
</ul></li>
<li><code>seq 10 | grep &quot;5&quot; -A 3 -B 2</code>

<ul>
<li>显示匹配记录后三行和前两行记录</li>
</ul></li>
<li><code>seq 10 | grep &quot;5&quot; -C 1</code>

<ul>
<li>显示匹配记录的前后各一行记录</li>
</ul></li>
</ul>

            <ul class="share-buttons">
    <li></li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fdomain.yqjdcyy.com%2fpost%2flinux.grep%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=Linux.Grep&amp;url=http%3a%2f%2fdomain.yqjdcyy.com%2fpost%2flinux.grep%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-gplus" href="https://plus.google.com/share?url=http%3a%2f%2fdomain.yqjdcyy.com%2fpost%2flinux.grep%2f" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fdomain.yqjdcyy.com%2fpost%2flinux.grep%2f&title=Linux.Grep" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title=""></a>
    </li>
</ul>

        </article>
        
        <div class="comments">
            <h3></h3>
            <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yqjdcyy-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
        
    </main>
    <aside class="author">
  <img class="profile-image" src="http://domain.yqjdcyy.com/img/profile-image.png" alt="姚清居" />
  <p class="name"> 
  <strong>姚清居</strong></p>
  <p class="address">Earth</p>
  <p class="link"></p>
  <ul class="social">
    












<li><a href="//github.com/yqjdcyy" class="icon-github" target="_blank" title="Github"></a></li>




<li><a href="http://domain.yqjdcyy.com/post/index.xml" class="icon-rss" target="_blank" title="RSS"></a></li>

  </ul>
  <br><br>
</aside>

</div>

<footer class="main-footer">
  <div class="container clearfix">
        <a class="icon-rss" href="http://domain.yqjdcyy.com/post/index.xml" title="RSS"></a>
        <p>&copy; 2018 &middot; Powered by <a href="http://www.domain.yqjdcyy.com">姚清居</a>.</p>
  </div>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>window.jQuery || document.write('<script src="http:\/\/domain.yqjdcyy.com\/js\/vendor\/jquery-1.11.0.min.js"><\/script>')</script>
<script src="http://domain.yqjdcyy.com/js/plugins.js"></script>




</body>
</html>

