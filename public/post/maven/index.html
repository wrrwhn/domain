<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>姚清居到此一游</title>
        <meta name="author">
        <meta name="description" content="姚清居到此一游">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Hugo 0.30.2" />
        <link href="http://domain.yqjdcyy.com/post/index.xml" rel="alternate" type="application/rss+xml" title="姚清居到此一游" />
        <link href="http://domain.yqjdcyy.com/post/index.xml" rel="feed" type="application/rss+xml" title="姚清居到此一游" />
        <link href='//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="http://domain.yqjdcyy.com/css/styles.css">
        <link rel="icon" href="http://domain.yqjdcyy.com/favicon.ico">
        <link rel="apple-touch-icon" href="http://domain.yqjdcyy.com/apple-touch-icon.png" />
        <link rel="stylesheet" href="http://domain.yqjdcyy.com/css/highlightjs/monokai.css">
        <script src="http://domain.yqjdcyy.com/js/vendor/modernizr-2.8.0.min.js"></script>
        
        <style>
        .site-header h2 .logo {
        background: url(http://domain.yqjdcyy.com/img/desk.jpg) no-repeat 0 0;
        }
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
          .site-header h2 .logo {
            background-image: url(http://domain.yqjdcyy.com/img/desk.jpg);
        }}
       .site-header {
         background: #2a373d url(http://domain.yqjdcyy.com/img/desk.jpg) no-repeat center center;
         z-index: -1;
        }
        </style>
    </head>
    <body>
        
        <header class="site-header">
          <div class="transparent-layer">
              <h2></h2>
          </div>
        </header>


<div class="container clearfix">
    <main role="main" class="content">
        <article class="post">
            <a class="btn home" href="http://domain.yqjdcyy.com/" title="">&laquo; </a>
            
<h1><a href="http://domain.yqjdcyy.com/post/maven/" title="Maven">Maven</a></h1>

<footer class="post-info"> <span class="post-meta"><time datetime="2016.12.09">2016.12.09</time>

    &middot; 
        
        <a href="http://domain.yqjdcyy.com/tags/%E6%95%B4%E7%90%86">整理</a>, 
        
        <a href="http://domain.yqjdcyy.com/tags/maven">maven</a>
        
    

</span>
</footer>

            

<p>[TOC]</p>

<h2 id="部署安装">部署安装</h2>

<h3 id="下载地址">下载地址</h3>

<ul>
<li><a href="http://maven.apache.org/download.cgi">http://maven.apache.org/download.cgi</a></li>
</ul>

<h3 id="安装流程">安装流程</h3>

<ul>
<li>至下载地址下载最新版本Maven压缩包</li>
<li>解压至本地文件路径</li>
<li>补充环境变量

<ul>
<li>[M2_HOME: C:\Program Files\Apache Software Foundation\apache-maven-3.2.2]</li>
<li>[M2:  %M2_HOME%\bin]</li>
<li>[MAVEN_OPTS: -Xms256m -Xmx512m]</li>
<li>并于最后于path变量里补充%M2%;</li>
</ul></li>
<li>控制台输出 mvn -version，若有相关输出则表示安装成功</li>
</ul>

<h2 id="生命周期-http-maven-apache-org-guides-introduction-introduction-to-the-lifecycle-html"><a href="http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html">生命周期 </a></h2>

<h3 id="内置构建">内置构建：</h3>

<ul>
<li>default：处理项目部署</li>
<li>clean：清理项目</li>

<li><p>site：创建项目的网站文件</p>

<h3 id="各生命周期执行内容">各生命周期执行内容：</h3>

<h4 id="clean-lifecycle">Clean Lifecycle</h4></li>

<li><p>pre-clean    executes processes needed prior to the actual project cleaning</p></li>

<li><p>clean    remove all files generated by the previous build</p></li>

<li><p>post-clean    executes processes needed to finalize the project cleaning</p>

<h4 id="default-lifecycle">Default Lifecycle</h4></li>

<li><p>validate    validate the project is correct and all necessary information is available.</p></li>

<li><p>initialize    initialize build state, e.g. set properties or create directories.</p></li>

<li><p>generate-sources    generate any source code for inclusion in compilation.</p></li>

<li><p>process-sources    process the source code, for example to filter any values.</p></li>

<li><p>generate-resources    generate resources for inclusion in the package.</p></li>

<li><p>process-resources    copy and process the resources into the destination directory, ready for packaging.</p></li>

<li><p>compile    compile the source code of the project.</p></li>

<li><p>process-classes    post-process the generated files from compilation, for example to do bytecode enhancement on Java classes.</p></li>

<li><p>generate-test-sources    generate any test source code for inclusion in compilation.</p></li>

<li><p>process-test-sources    process the test source code, for example to filter any values.</p></li>

<li><p>generate-test-resources    create resources for testing.</p></li>

<li><p>process-test-resources    copy and process the resources into the test destination directory.</p></li>

<li><p>test-compile    compile the test source code into the test destination directory</p></li>

<li><p>process-test-classes    post-process the generated files from test compilation, for example to do bytecode enhancement on Java classes. For Maven 2.0.5 and above.</p></li>

<li><p>test    run tests using a suitable unit testing framework. These tests should not require the code be packaged or deployed.</p></li>

<li><p>prepare-package    perform any operations necessary to prepare a package before the actual packaging. This often results in an unpacked, processed version of the package. (Maven 2.1 and above)</p></li>

<li><p>package    take the compiled code and package it in its distributable format, such as a JAR.</p></li>

<li><p>pre-integration-test    perform actions required before integration tests are executed. This may involve things such as setting up the required environment.</p></li>

<li><p>integration-test    process and deploy the package if necessary into an environment where integration tests can be run.</p></li>

<li><p>post-integration-test    perform actions required after integration tests have been executed. This may including cleaning up the environment.</p></li>

<li><p>verify    run any checks to verify the package is valid and meets quality criteria.</p></li>

<li><p>install    install the package into the local repository, for use as a dependency in other projects locally.</p></li>

<li><p>deploy    done in an integration or release environment, copies the final package to the remote repository for sharing with other developers and projects.</p>

<h4 id="site-lifecycle">Site Lifecycle</h4></li>

<li><p>pre-site    executes processes needed prior to the actual project site generation</p></li>

<li><p>site    generates the project&rsquo;s site documentation</p></li>

<li><p>post-site    executes processes needed to finalize the site generation, and to prepare for site deployment</p></li>

<li><p>site-deploy    deploys the generated site documentation to the specified web server</p></li>
</ul>

<h3 id="调用">调用</h3>

<h4 id="如调用deploy-mvn-deploy-便会自动调用前面的几个流程步骤">如调用deploy(mvn deploy)便会自动调用前面的几个流程步骤</h4>

<h4 id="仍可在同一指令中调用多个操作-多模块场景中会自动递归至各子模块-如-mvn-clean-install">仍可在同一指令中调用多个操作（多模块场景中会自动递归至各子模块），如 mvn clean install</h4>

<h4 id="相关指令">相关指令</h4>

<ul>
<li><p>Clean Lifecycle Bindings</p>

<ul>
<li>clean    clean:clean</li>
</ul></li>

<li><p>Default Lifecycle Bindings - Packaging ejb / ejb3 / jar / par / rar / war</p>

<ul>
<li>process-resources    resources:resources</li>
<li>compile    compiler:compile</li>
<li>process-test-resources    resources:testResources</li>
<li>test-compile    compiler:testCompile</li>
<li>test    surefire:test</li>
<li>package    ejb:ejb or ejb3:ejb3 or jar:jar or par:par or rar:rar or war:war</li>
<li>install    install:install</li>
<li>deploy    deploy:deploy</li>
</ul></li>

<li><p>Default Lifecycle Bindings - Packaging ear</p>

<ul>
<li>generate-resources    ear:generate-application-xml</li>
<li>process-resources    resources:resources</li>
<li>package    ear:ear</li>
<li>install    install:install</li>
<li>deploy    deploy:deploy</li>
</ul></li>

<li><p>Default Lifecycle Bindings - Packaging maven-plugin</p>

<ul>
<li>generate-resources    plugin:descriptor</li>
<li>process-resources    resources:resources</li>
<li>compile    compiler:compile</li>
<li>process-test-resources    resources:testResources</li>
<li>test-compile    compiler:testCompile</li>
<li>test    surefire:test</li>
<li>package    jar:jar and plugin:addPluginArtifactMetadata</li>
<li>install    install:install</li>
<li>deploy    deploy:deploy</li>
</ul></li>

<li><p>Default Lifecycle Bindings - Packaging pom</p>

<ul>
<li>package    site:attach-descriptor</li>
<li>install    install:install</li>
<li>deploy    deploy:deploy</li>
</ul></li>

<li><p>Site Lifecycle Bindings</p>

<ul>
<li>site    site:site</li>
<li>site-deploy    site:deploy</li>
</ul></li>
</ul>

<h3 id="初始化">初始化</h3>

<h4 id="pom文件中补充-packaging-节点-默认值为jar-可选值为jar-war-ear-pom">POM文件中补充<packaging>节点，默认值为jar，可选值为jar/war/ear/pom</h4>

<h4 id="jar方式流程">jar方式流程</h4>

<ul>
<li>process-resources    resources:resources</li>
<li>compile    compiler:compile</li>
<li>process-test-resources    resources:testResources</li>
<li>test-compile    compiler:testCompile</li>
<li>test    surefire:test</li>
<li>package    jar:jar</li>
<li>install    install:install</li>

<li><p>deploy    deploy:deploy</p>

<h4 id="使用plugins来实现各环节的操作步骤-其中若同一环节有多个插件支持-则以pom文件顺序下的第一个进行处理">使用Plugins来实现各环节的操作步骤，其中若同一环节有多个插件支持，则以POM文件顺序下的第一个进行处理</h4>

<pre><code>&lt;plugin&gt;
&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;
&lt;version&gt;${plugin.checkstyle.version}&lt;/version&gt;
&lt;configuration&gt;
    &lt;configLocation&gt;${project.basedir}/build/check-style.xml&lt;/configLocation&gt;
    &lt;includeTestSourceDirectory&gt;false&lt;/includeTestSourceDirectory&gt;
    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;
    &lt;failsOnError&gt;true&lt;/failsOnError&gt;
&lt;/configuration&gt;
&lt;executions&gt;
    &lt;execution&gt;
        &lt;phase&gt;verify&lt;/phase&gt;
        &lt;goals&gt;
            &lt;goal&gt;check&lt;/goal&gt;
        &lt;/goals&gt;
    &lt;/execution&gt;
&lt;/executions&gt;
&lt;/plugin&gt;
</code></pre></li>
</ul>

<h2 id="pom-xml详解-http-blog-csdn-net-zhuxinhua-article-details-5788546"><a href="http://blog.csdn.net/zhuxinhua/article/details/5788546">POM.XML详解</a></h2>

<h3 id="作用">作用</h3>

<ul>
<li><p>描述项目如下内容：包括配置文件；开发者需要遵循的规则，缺陷管理系统，组织和licenses，项目的url，项目的依赖性，以及其他所有的项目相关因素。</p>

<h3 id="结构">结构</h3>

<pre><code>&lt;project&gt;
&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
&lt;!-- 基础设置 --&gt;
&lt;groupId&gt;项目或者组织的唯一标志，也将会是配置生成路径&lt;/groupId&gt;
&lt;artifactId&gt;项目名称&lt;/artifactId&gt;
&lt;version&gt;版本&lt;/version&gt;
&lt;packaging&gt;打包机制，支持pom,jar,maven-plugin,ejb,war,ear,rar,par&lt;/packaging&gt;
&lt;name&gt;用户描述项目名称，可选&lt;/name&gt;
&lt;url&gt;开发团队网站，可选&lt;/url&gt;
&lt;dependencies&gt;
    &lt;!-- 依赖 --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;junit&lt;/groupId&gt;
        &lt;artifactId&gt;junit&lt;/artifactId&gt;
        &lt;version&gt;4.0&lt;/version&gt;
        &lt;type&gt;默认 jar，常用类型有 jar,ejb-client,test-jar&lt;/type&gt;
        &lt;scope&gt;
            compile     缺省值，适用于所有阶段，会随着项目一起发布。
            provided     类似compile，期望JDK、容器或使用者会提供这个依赖。如servlet.jar。
            runtime     只在运行时使用，如JDBC驱动，适用运行和测试阶段。
            test         只在测试时使用，用于编译和运行测试代码。不会随项目发布。
            system         类似provided，需要显式提供包含依赖的jar，Maven不会在Repository中查找它。
        &lt;/scope&gt;
        &lt;optional&gt;
            默认为 false，即子项目默认继承。为 true时则子项目必须显示引入。
        &lt;/optional&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.alibaba.china.shared&lt;/groupId&gt;
        &lt;artifactId&gt;alibaba.apollo.webx&lt;/artifactId&gt;
        &lt;version&gt;2.5.0&lt;/version&gt;
        &lt;exclusions&gt;
            &lt;exclusion&gt;        &lt;!-- 移除指定依赖 --&gt;
                &lt;groupId&gt;com.alibaba.external&lt;/groupId&gt;
                &lt;artifactId&gt;org.slf4j.slf4j-api&lt;/artifactId&gt;
            &lt;/exclusion&gt;
            ....
        &lt;/exclusions&gt;
&lt;/dependencies&gt;
&lt;!-- 工程为 parent 时，packing 参数值需为 pom，则子项目可继承 dependencies,developers,contributors,plugin lists,reports lists,plugin execution with matching ids,plugin configuration --&gt;
&lt;parent&gt;
    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
    &lt;artifactId&gt;my-parent&lt;/artifactId&gt;
    &lt;version&gt;2.0&lt;/version&gt;
    &lt;relativePath&gt;../my-parent&lt;/relativePath&gt;
&lt;/parent&gt;
&lt;dependencyManagement&gt;
    用于帮助管理子项目的依赖，子项目的相关引用 version 将由父项目进行设置
&lt;/dependencyManagement&gt;
&lt;modules&gt; 与顺序无关，maven 会自动根据依赖关系拓扑排序 &lt;/modules&gt;

&lt;!-- 配置常量，并于 pom 其它地方以 ${file.encoding} 形式调用  --&gt;
&lt;properties&gt;
    &lt;file.encoding&gt;UTF-8&lt;/file_encoding&gt;
&lt;/properties&gt;
&lt;!--构建设置 --&gt;
&lt;build&gt;...&lt;/build&gt;
&lt;reporting&gt;...&lt;/reporting&gt;
&lt;!-- 更多项目信息 --&gt;
&lt;description&gt;...&lt;/description&gt;
&lt;inceptionYear&gt;...&lt;/inceptionYear&gt;
&lt;licenses&gt;...&lt;/licenses&gt;
&lt;organization&gt;...&lt;/organization&gt;
&lt;developers&gt;...&lt;/developers&gt;
&lt;contributors&gt;...&lt;/contributors&gt;
&lt;!-- 环境设置--&gt;
&lt;issueManagement&gt;...&lt;/issueManagement&gt;
&lt;ciManagement&gt;...&lt;/ciManagement&gt;
&lt;mailingLists&gt;...&lt;/mailingLists&gt;
&lt;scm&gt;...&lt;/scm&gt;
&lt;prerequisites&gt;...&lt;/prerequisites&gt;
&lt;repositories&gt;...&lt;/repositories&gt;
&lt;pluginRepositories&gt;...&lt;/pluginRepositories&gt;
&lt;distributionManagement&gt;...&lt;/distributionManagement&gt;
&lt;profiles&gt;...&lt;/profiles&gt;
&lt;/project&gt;
</code></pre></li>
</ul>

<h2 id="示例">示例</h2>

<h3 id="外部-jar-引入本地项目system">外部 Jar 引入本地项目System</h3>

<ul>
<li>相对引用
<code>
&lt;dependency&gt;
&lt;groupId&gt;com.aliyun&lt;/groupId&gt;
&lt;artifactId&gt;aliyun-java-sdk-dysmsapi&lt;/artifactId&gt;
&lt;version&gt;1.0.0&lt;/version&gt;
&lt;scope&gt;system&lt;/scope&gt;
&lt;systemPath&gt;${basedir}/src/main/lib/aliyun-java-sdk-dysmsapi-1.0.0.jar&lt;/systemPath&gt;
&lt;/dependency&gt;
</code></li>
<li>打包时包括在内
<code>
&lt;plugin&gt;
&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
&lt;version&gt;2.10&lt;/version&gt;
&lt;executions&gt;
    &lt;execution&gt;
        &lt;id&gt;copy-dependencies&lt;/id&gt;
        &lt;phase&gt;compile&lt;/phase&gt;
        &lt;goals&gt;
            &lt;goal&gt;copy-dependencies&lt;/goal&gt;
        &lt;/goals&gt;
        &lt;configuration&gt;
            &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/WEB-INF/lib&lt;/outputDirectory&gt;
            &lt;includeScope&gt;system&lt;/includeScope&gt;
        &lt;/configuration&gt;
    &lt;/execution&gt;
&lt;/executions&gt;
&lt;/plugin&gt;
</code></li>
</ul>

            <ul class="share-buttons">
    <li></li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fdomain.yqjdcyy.com%2fpost%2fmaven%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=Maven&amp;url=http%3a%2f%2fdomain.yqjdcyy.com%2fpost%2fmaven%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-gplus" href="https://plus.google.com/share?url=http%3a%2f%2fdomain.yqjdcyy.com%2fpost%2fmaven%2f" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fdomain.yqjdcyy.com%2fpost%2fmaven%2f&title=Maven" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title=""></a>
    </li>
</ul>

        </article>
        
        <div class="comments">
            <h3></h3>
            <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yqjdcyy" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
        
    </main>
    <aside class="author">
  <img class="profile-image" src="http://domain.yqjdcyy.com/img/profile-image.png" alt="姚清居" />
  <p class="name"> 
  <strong>姚清居</strong></p>
  <p class="address">Earth</p>
  <p class="link"></p>
  <ul class="social">
    












<li><a href="//github.com/wrrwhn" class="icon-github" target="_blank" title="Github"></a></li>




<li><a href="http://domain.yqjdcyy.com/post/index.xml" class="icon-rss" target="_blank" title="RSS"></a></li>

  </ul>
  <br><br>
</aside>

</div>

<footer class="main-footer">
  <div class="container clearfix">
        <a class="icon-rss" href="http://domain.yqjdcyy.com/post/index.xml" title="RSS"></a>
        <p>&copy; 2018 &middot; Powered by <a href="http://www.yqjdcyy.com">姚清居</a>.</p>
  </div>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>window.jQuery || document.write('<script src="http:\/\/domain.yqjdcyy.com\/js\/vendor\/jquery-1.11.0.min.js"><\/script>')</script>
<script src="http://domain.yqjdcyy.com/js/plugins.js"></script>




</body>
</html>

